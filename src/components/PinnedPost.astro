---
import { NotionPage } from "../api/notion";
import ArrowUpRight from "../icons/arrow-up-right.astro";
import NotionBlock from "./NotionBlock.astro";

export type Props = {
  post: NotionPage;
};
const { post } = Astro.props;
---

<a
  href={`/posts/${post.slug}`}
  class="group/post flex h-full min-h-0 cursor-pointer flex-col-reverse items-center gap-4 outline-none sm:flex-row sm:gap-8"
>
  <img
    src={post.cover.image}
    title={post.cover.alt}
    alt={post.cover.alt}
    class="ring-on-primary aspect-video min-h-0 w-full min-w-0 flex-1 rounded-2xl object-cover transition-shadow duration-300 group-hover/post:ring-4 group-focus/post:ring-4 sm:aspect-square sm:max-w-sm"
  />
  <div class="relative flex h-full flex-1 flex-col gap-4">
    <h3
      class="bg-primary inline-block text-2xl font-semibold group-hover/post:underline group-focus/post:underline sm:text-3xl"
    >
      <ArrowUpRight
        aria-hidden="true"
        class="float-right m-2 h-10 w-10 self-end justify-self-end stroke-2 sm:hidden"
      />
      {post.title}
    </h3>
    <p class="bg-primary hidden sm:block">
      <NotionBlock text={post.summary} />
    </p>
    <ArrowUpRight
      aria-hidden="true"
      class="float-right m-4 mt-16 hidden h-16 w-16 self-end justify-self-end sm:inline-block"
    />
  </div>
</a>
