---
import { FragmentPostsPostFragment } from "../api/generated/graphql";
import ArrowUpRight from "../icons/arrow-up-right.astro";
import { frontmatter } from "../utils/markdown";

export type Props = {
  post: FragmentPostsPostFragment;
};
const { post } = Astro.props;
const data = frontmatter(post);
---

<a
  href={`/posts/${post.number}`}
  class="group/post flex h-full min-h-0 cursor-pointer flex-col gap-6 outline-none"
>
  <div class="flex flex-row items-center gap-8">
    <img
      src={data.poster}
      title={data.posterAlt}
      alt={data.posterAlt}
      class="ring-on-primary aspect-square min-w-0 max-w-sm flex-1 rounded-2xl object-cover transition-shadow duration-300 group-hover/post:ring-4 group-focus/post:ring-4"
    />
    <div class="relative flex h-full flex-1 flex-col gap-4">
      <h3
        class="bg-primary inline-block text-2xl font-semibold group-hover/post:underline group-focus/post:underline md:text-3xl"
      >
        {post.title}
      </h3>
      <p class="bg-primary hidden md:block">
        {data.description}
      </p>
      <ArrowUpRight
        aria-hidden="true"
        class="float-right hidden h-16 w-16 self-end justify-self-end md:inline-block"
      />
    </div>
  </div>
</a>
